<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registrar Investimentos</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            background-color: #f4f4f4;
        }

        .sidenav {
            height: 100%;
            width: 0;
            position: fixed;
            z-index: 1;
            top: 0;
            left: 0;
            background-color: #111;
            overflow-x: hidden;
            transition: 0.5s;
            padding-top: 60px;
        }

        .sidenav a {
            padding: 8px 8px 8px 32px;
            text-decoration: none;
            font-size: 25px;
            color: #818181;
            display: block;
            transition: 0.3s;
        }

        .sidenav a:hover {
            color: #f1f1f1;
        }

        .sidenav .closebtn {
            position: absolute;
            top: 0;
            right: 25px;
            font-size: 36px;
            margin-left: 50px;
        }

        #main {
            transition: margin-left .5s;
            padding: 16px;
        }

        .openbtn {
            font-size: 20px;
            cursor: pointer;
            background-color: #111;
            color: white;
            padding: 10px 15px;
            border: none;
        }

        .openbtn:hover {
            background-color: #444;
        }

        .container {
            display: flex;
            justify-content: space-between;
        }

        .form-container, .list-container {
            width: 45%;
            background: #fff;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
        }

        h2 {
            margin-bottom: 20px;
            font-size: 24px;
            color: #333;
        }

        .form-group {
            margin-bottom: 20px;
            text-align: left;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #555;
        }

        .form-group input, .form-group select {
            width: calc(100% - 20px);
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
            font-size: 16px;
        }

        .form-group button {
            width: 100%;
            padding: 12px;
            background-color: #28a745;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s ease;
        }

        .form-group button:hover {
            background-color: #218838;
        }

        .list-group {
            margin-bottom: 20px;
            text-align: left;
        }

        .list-group h3 {
            margin-bottom: 15px;
            font-size: 20px;
            color: #333;
        }

        .list-item {
            border-bottom: 1px solid #ccc;
            padding: 10px 0;
            position: relative;
        }

        .list-item p {
            margin: 5px 0;
            font-size: 16px;
            color: #555;
        }

        .list-item button {
            position: absolute;
            top: 5px;
            right: 5px;
            padding: 5px 10px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
        }

        .list-item button:hover {
            background-color: #0056b3;
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.5);
        }

        .modal-content {
            background-color: #fefefe;
            margin: 10% auto;
            padding: 20px;
            border: 1px solid #888;
            width: 80%;
            border-radius: 8px;
        }

        .modal-content h2 {
            margin-bottom: 20px;
            font-size: 24px;
            color: #333;
        }

        .modal-content .form-group {
            margin-bottom: 20px;
            text-align: left;
        }

        .modal-content .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #555;
        }

        .modal-content .form-group input, .modal-content .form-group select {
            width: calc(100% - 20px);
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
            font-size: 16px;
        }

        .modal-content .form-group button {
            width: calc(100% - 20px);
            padding: 12px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s ease;
        }

        .modal-content .form-group button:hover {
            background-color: #0056b3;
        }

        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }

        .close:hover,
        .close:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }

        #chartContainer {
            margin-top: 20px;
        }

        #investmentChart {
            display: none;
            max-width: 600px;
            margin: 0 auto;
        }
    </style>
</head>
<body>

<div id="mySidenav" class="sidenav">
    <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
    <a href="#">Home</a>
    <a href="#">Registrar Vendas</a>
    <a href="#">Investimentos</a>
    <a href="#">Lucros</a>
    <a href="#">Sobre</a>
</div>

<div id="main">
    <button class="openbtn" onclick="openNav()">&#9776; Abrir Menu</button>
    <h2>Registrar Investimentos</h2>

    <div class="container">
        <div class="form-container">
            <form id="investmentForm">
                <div class="form-group">
                    <label for="investmentType">Tipo de Investimento:</label>
                    <input type="text" id="investmentType" required>
                </div>
                <div class="form-group">
                    <label for="investmentValue">Valor Investido (R$):</label>
                    <input type="number" id="investmentValue" required>
                </div>
                <div class="form-group">
                    <label for="investmentProfit">Lucro Ganho (R$):</label>
                    <input type="number" id="investmentProfit" required>
                </div>
                <div class="form-group">
                    <label for="investmentPlatform">Nome da Plataforma:</label>
                    <input type="text" id="investmentPlatform" required>
                </div>
                <div class="form-group">
                    <button type="submit">Registrar Investimento</button>
                </div>
            </form>
            <div class="success-message" id="investmentSuccessMessage" style="display: none;">Parabéns, investimento cadastrado no sistema!</div>
        </div>
        <div class="list-container">
            <div class="list-group">
                <h3>Lista de Investimentos</h3>
                <div id="investmentList"></div>
            </div>
        </div>
    </div>

    <div id="chartContainer">
        <h2>Gráficos</h2>
        <button id="showInvestmentChartButton">Mostrar Gráfico de Investimentos</button>
        <canvas id="investmentChart"></canvas>
    </div>
</div>

<div id="investmentModal" class="modal">
    <div class="modal-content">
        <span class="close">&times;</span>
        <h2>Atualizar Investimento</h2>
        <form id="updateInvestmentForm">
            <input type="hidden" id="updateInvestmentId">
            <div class="form-group">
                <label for="updateInvestmentType">Tipo de Investimento:</label>
                <input type="text" id="updateInvestmentType" required>
            </div>
            <div class="form-group">
                <label for="updateInvestmentValue">Valor Investido (R$):</label>
                <input type="number" id="updateInvestmentValue" required>
            </div>
            <div class="form-group">
                <label for="updateInvestmentProfit">Lucro Ganho (R$):</label>
                <input type="number" id="updateInvestmentProfit" required>
            </div>
            <div class="form-group">
                <label for="updateInvestmentPlatform">Nome da Plataforma:</label>
                <input type="text" id="updateInvestmentPlatform" required>
            </div>
            <div class="form-group">
                <button type="submit">Atualizar Investimento</button>
            </div>
        </form>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
    let investments = [];

    function openNav() {
        document.getElementById("mySidenav").style.width = "250px";
        document.getElementById("main").style.marginLeft = "250px";
    }

    function closeNav() {
        document.getElementById("mySidenav").style.width = "0";
        document.getElementById("main").style.marginLeft = "0";
    }

    document.getElementById('investmentForm').addEventListener('submit', function (e) {
        e.preventDefault();

        const investmentType = document.getElementById('investmentType').value;
        const investmentValue = document.getElementById('investmentValue').value;
        const investmentProfit = document.getElementById('investmentProfit').value;
        const investmentPlatform = document.getElementById('investmentPlatform').value;

        const investment = {
            id: investments.length + 1,
            type: investmentType,
            value: investmentValue,
            profit: investmentProfit,
            platform: investmentPlatform
        };

        investments.push(investment);

        document.getElementById('investmentSuccessMessage').style.display = 'block';

        setTimeout(function () {
            document.getElementById('investmentSuccessMessage').style.display = 'none';
        }, 3000);

        document.getElementById('investmentForm').reset();

        renderInvestmentList();
    });

    function renderInvestmentList() {
        const investmentList = document.getElementById('investmentList');
        investmentList.innerHTML = '';

        investments.forEach(investment => {
            const listItem = document.createElement('div');
            listItem.classList.add('list-item');

            listItem.innerHTML = `
                <p><strong>Tipo:</strong> ${investment.type}</p>
                <p><strong>Valor Investido:</strong> R$ ${investment.value}</p>
                <p><strong>Lucro Ganho:</strong> R$ ${investment.profit}</p>
                <p><strong>Plataforma:</strong> ${investment.platform}</p>
                <button onclick="showUpdateModal(${investment.id})">Atualizar</button>
            `;

            investmentList.appendChild(listItem);
        });
    }

    function showUpdateModal(id) {
        const investment = investments.find(investment => investment.id === id);

        document.getElementById('updateInvestmentId').value = investment.id;
        document.getElementById('updateInvestmentType').value = investment.type;
        document.getElementById('updateInvestmentValue').value = investment.value;
        document.getElementById('updateInvestmentProfit').value = investment.profit;
        document.getElementById('updateInvestmentPlatform').value = investment.platform;

        const modal = document.getElementById('investmentModal');
        modal.style.display = "block";
    }

    document.getElementsByClassName('close')[0].onclick = function() {
        const modal = document.getElementById('investmentModal');
        modal.style.display = "none";
    }

    window.onclick = function(event) {
        const modal = document.getElementById('investmentModal');
        if (event.target === modal) {
            modal.style.display = "none";
        }
    }

    document.getElementById('updateInvestmentForm').addEventListener('submit', function (e) {
        e.preventDefault();

        const id = document.getElementById('updateInvestmentId').value;
        const type = document.getElementById('updateInvestmentType').value;
        const value = document.getElementById('updateInvestmentValue').value;
        const profit = document.getElementById('updateInvestmentProfit').value;
        const platform = document.getElementById('updateInvestmentPlatform').value;

        const investmentIndex = investments.findIndex(investment => investment.id == id);
        investments[investmentIndex] = {
            id,
            type,
            value,
            profit,
            platform
        };

        const modal = document.getElementById('investmentModal');
        modal.style.display = "none";

        renderInvestmentList();
    });

    document.getElementById('showInvestmentChartButton').addEventListener('click', function () {
        document.getElementById('investmentChart').style.display = 'block';
        renderInvestmentChart();
    });

    function renderInvestmentChart() {
        const ctx = document.getElementById('investmentChart').getContext('2d');
        const labels = investments.map(inv => inv.type);
        const values = investments.map(inv => inv.value);

        new Chart(ctx, {
            type: 'bar',
            data: {
                labels: labels,
                datasets: [{
                    label: 'Valor Investido (R$)',
                    data: values,
                    backgroundColor: 'rgba(54, 162, 235, 0.2)',
                    borderColor: 'rgba(54, 162, 235, 1)',
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });
    }
</script>

</body>
</html>

